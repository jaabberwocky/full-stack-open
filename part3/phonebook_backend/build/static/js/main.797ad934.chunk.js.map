{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/ErrorMessage.js","components/SuccessMessage.js","components/Filter.js","components/Entry.js","components/Persons.js","App.js","index.js"],"names":["BASE_URL","exportFunctions","createPerson","nameObject","axios","post","then","resp","data","getAll","get","deletePerson","id","delete","updatePerson","obj","put","PersonForm","persons","setPersons","setNewName","setNewNumber","newName","newNumber","setSuccessMessage","setErrorMessage","onSubmit","event","preventDefault","name","number","entries","i","el","confirmPersonUpdate","window","confirm","personService","updatedPersons","catch","e","person","concat","value","onChange","target","type","ErrorMessage","message","delay","useEffect","setTimeout","className","SuccessMessage","Filter","filterTerm","setFilterTerm","Fragment","Entry","onClick","idToDelete","filter","Persons","personsToShow","toLowerCase","includes","map","App","useState","successMessage","errorMessage","allPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.797ad934.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"/api/persons\";\n\nconst createPerson = (nameObject) => {\n  const req = axios.post(BASE_URL, nameObject).then((resp) => resp.data);\n  return req;\n};\n\nconst getAll = () => {\n  const req = axios.get(BASE_URL).then((resp) => resp.data);\n  return req;\n};\n\nconst deletePerson = (id) => {\n  const req = axios.delete(BASE_URL + `/${id}`).then((resp) => resp.data);\n  return req;\n};\n\nconst updatePerson = (id, obj) => {\n  const req = axios.put(BASE_URL + `/${id}`, obj).then((resp) => resp.data);\n  return req;\n};\n\nconst exportFunctions = {\n  createPerson,\n  getAll,\n  deletePerson,\n  updatePerson,\n};\n\nexport default exportFunctions;\n","import personService from '../services/persons.js'\n\nconst PersonForm = ({\n    persons,\n    setPersons,\n    setNewName,\n    setNewNumber,\n    newName,\n    newNumber,\n    setSuccessMessage,\n    setErrorMessage,\n  }) => {\n    const addNewEntry = (event) => {\n      event.preventDefault();\n      const nameObject = {\n        name: newName,\n        number: newNumber,\n      };\n  \n      for (const [i, el] of persons.entries()) {\n        if (nameObject.name === el.name) {\n          const confirmPersonUpdate = window.confirm(\n            `${nameObject.name} is already added to phonebook, replace the old number with a new one?`\n          );\n          setNewName(\"\");\n          setNewNumber(\"\");\n          if (confirmPersonUpdate) {\n            personService\n              .updatePerson(el.id, nameObject)\n              .then(() => {\n                let updatedPersons = [...persons];\n                updatedPersons[i] = nameObject;\n                setPersons(updatedPersons);\n              })\n              .catch((e) => {\n                setErrorMessage(\n                  `Information of ${nameObject.name} cannot be updated as it is not found on server`\n                );\n              });\n            return;\n          } else {\n            return;\n          }\n        }\n      }\n  \n      personService.createPerson(nameObject).then((person) => {\n        setPersons(persons.concat(person));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setSuccessMessage(`${person.name} added`);\n      });\n    };\n  \n    const handleNameChange = (event) => {\n      setNewName(event.target.value);\n    };\n  \n    const handleNumberChange = (event) => {\n      setNewNumber(event.target.value);\n    };\n  \n    return (\n      <div>\n        <form onSubmit={addNewEntry}>\n          <div>\n            <h2>Add a new entry</h2>\n            name: <input value={newName} onChange={handleNameChange} />\n            <br />\n            number: <input value={newNumber} onChange={handleNumberChange} />\n          </div>\n          <button type=\"submit\">add</button>\n        </form>\n      </div>\n    );\n  };\n\nexport default PersonForm;","import React, { useEffect } from \"react\";\n\nconst ErrorMessage = ({ message, setErrorMessage, delay }) => {\n  useEffect(() => setTimeout(() => setErrorMessage(null), delay));\n  if (message === null) {\n    return null;\n  }\n  return <div className=\"error\">{message}</div>;\n};\n\nexport default ErrorMessage;\n","import React, { useEffect } from \"react\";\n\nconst SuccessMessage = ({ message, setSuccessMessage, delay }) => {\n  useEffect(() => setTimeout(() => setSuccessMessage(null), delay));\n  if (message === null) {\n    return null;\n  }\n  return <div className=\"success\">{message}</div>;\n};\n\nexport default SuccessMessage;\n","import React from \"react\";\n\nconst Filter = ({ filterTerm, setFilterTerm }) => {\n  const handleFilterChange = (event) => {\n    setFilterTerm(event.target.value);\n  };\n\n  return (\n    <React.Fragment>\n      filter shown with{\" \"}\n      <input value={filterTerm} onChange={handleFilterChange} />\n    </React.Fragment>\n  );\n};\nexport default Filter;\n","import React from \"react\";\nimport personService from \"../services/persons.js\";\n\nconst Entry = ({\n  person,\n  persons,\n  setPersons,\n  setErrorMessage,\n  setSuccessMessage,\n}) => {\n  const handleClick = () => {\n    const confirmDelete = window.confirm(`Delete ${person.name}?`);\n    if (confirmDelete) {\n      const idToDelete = person.id;\n      personService\n        .deletePerson(idToDelete)\n        .then(() => setSuccessMessage(`Deleted ${person.name}`))\n        .catch((e) =>\n          setErrorMessage(\n            `Information of ${person.name} cannot be deleted as it is not found on server`\n          )\n        );\n      setPersons(persons.filter((person) => person.id !== idToDelete));\n    }\n  };\n  return (\n    <React.Fragment>\n      <p>\n        {person.name} {person.number}{\" \"}\n        <button type=\"submit\" onClick={handleClick}>\n          delete\n        </button>\n      </p>\n    </React.Fragment>\n  );\n};\n\nexport default Entry;\n","import React from \"react\";\nimport Entry from \"./Entry\";\n\nconst Persons = ({\n  persons,\n  filterTerm,\n  setPersons,\n  setSuccessMessage,\n  setErrorMessage,\n}) => {\n  const personsToShow =\n    filterTerm === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filterTerm.toLowerCase())\n        );\n\n  return (\n    <React.Fragment>\n      {personsToShow.map((person) => (\n        <Entry\n          key={person.name}\n          person={person}\n          persons={persons}\n          setPersons={setPersons}\n          setSuccessMessage={setSuccessMessage}\n          setErrorMessage={setErrorMessage}\n        />\n      ))}\n    </React.Fragment>\n  );\n};\nexport default Persons;","import React, { useEffect, useState } from \"react\";\nimport personService from \"./services/persons.js\";\nimport PersonForm from \"./components/PersonForm.js\";\nimport ErrorMessage from \"./components/ErrorMessage.js\";\nimport SuccessMessage from \"./components/SuccessMessage.js\";\nimport Filter from \"./components/Filter.js\";\nimport Persons from \"./components/Persons.js\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterTerm, setFilterTerm] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const hook = () => {\n    personService.getAll().then((allPersons) => setPersons(allPersons));\n  };\n\n  useEffect(hook, []);\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <SuccessMessage\n        message={successMessage}\n        setSuccessMessage={setSuccessMessage}\n        delay={5000}\n      />\n      <ErrorMessage\n        message={errorMessage}\n        setErrorMessage={setErrorMessage}\n        delay={5000}\n      />\n      <Filter filterTerm={filterTerm} setFilterTerm={setFilterTerm} />\n      <PersonForm\n        persons={persons}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        setPersons={setPersons}\n        newName={newName}\n        newNumber={newNumber}\n        setSuccessMessage={setSuccessMessage}\n        setErrorMessage={setErrorMessage}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filterTerm={filterTerm}\n        setPersons={setPersons}\n        setErrorMessage={setErrorMessage}\n        setSuccessMessage={setSuccessMessage}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}